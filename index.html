<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Order Jasa Vacuum - Heloklin</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Open+Sans:ital,wght@0,300..800;1,300..800&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="order.css">
</head>
<body class="bg-white font-['Open_Sans'] text-slate-800 min-h-screen">
  <!-- Welcome Modal -->
  <div id="welcomeModal" class="hidden">
    <div class="welcome-modal-content">
      <div class="welcome-icon">
        <svg width="40" height="40" viewBox="0 0 24 24" fill="none" stroke="white" stroke-width="2">
          <path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"></path>
          <circle cx="12" cy="7" r="4"></circle>
        </svg>
      </div>
      <h2 class="welcome-title">Selamat Datang di Heloklin!</h2>
      <p class="welcome-description">Apakah Anda pernah melakukan pembelian layanan kami sebelumnya?</p>
      <div class="welcome-buttons">
        <button type="button" id="existingCustomerBtn" class="welcome-button primary">
          <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <path d="M22 11.08V12a10 10 0 1 1-5.93-9.14"></path>
            <polyline points="22 4 12 14.01 9 11.01"></polyline>
          </svg>
          Ya, Sudah Pernah
        </button>
        <button type="button" id="newCustomerBtn" class="welcome-button secondary">
          <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <path d="M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"></path>
          </svg>
          Belum, Saya Mau Tanya Dulu
        </button>
      </div>
    </div>
  </div>

  <main class="min-h-screen py-8 px-4">
    <div class="max-w-4xl mx-auto bg-white rounded-2xl shadow-2xl overflow-hidden">
      <!-- Header Carousel -->
      <div class="relative w-full h-64 md:h-80 overflow-hidden bg-slate-200">
        <!-- Carousel Track -->
        <div id="carouselTrack" class="flex h-full transition-transform duration-500 ease-out">
          <!-- Slides will be populated by JavaScript -->
        </div>

        <!-- Navigation Dots -->
        <div id="carouselDots" class="absolute bottom-4 left-1/2 transform -translate-x-1/2 flex gap-2 z-30">
          <!-- Dots will be populated by JavaScript -->
        </div>

        <!-- Previous Button -->
        <button type="button" id="prevBtn" class="absolute left-4 top-1/2 transform -translate-y-1/2 z-20 bg-white/80 hover:bg-white text-slate-800 rounded-full p-2 transition-all duration-200 shadow-lg">
          <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <polyline points="15 18 9 12 15 6"></polyline>
          </svg>
        </button>

        <!-- Next Button -->
        <button type="button" id="nextBtn" class="absolute right-4 top-1/2 transform -translate-y-1/2 z-20 bg-white/80 hover:bg-white text-slate-800 rounded-full p-2 transition-all duration-200 shadow-lg">
          <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <polyline points="9 18 15 12 9 6"></polyline>
          </svg>
        </button>

       
      </div>

      <!-- Form -->
      <form id="orderForm" class="p-8">
        <!-- Data Diri -->
        <div class="mb-8 pb-8 border-b border-slate-200">
          <h2 class="flex items-center gap-3 text-lg font-semibold text-slate-800 mb-5">
            <span class="w-9 h-9 rounded-lg flex items-center justify-center text-white" style="background-color: #0099d5;">
              <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <path d="M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2"></path>
                <circle cx="12" cy="7" r="4"></circle>
              </svg>
            </span>
            Data Diri
          </h2>
          <div class="grid grid-cols-1 gap-4 md:grid-cols-2">
            <div class="flex flex-col gap-2">
              <label for="nama" class="text-sm font-medium text-slate-800">Nama Lengkap</label>
              <div class="relative flex items-center">
                <span class="absolute left-3 text-slate-500 flex items-center">
                  <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <path d="M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2"></path>
                    <circle cx="12" cy="7" r="4"></circle>
                  </svg>
                </span>
                <input type="text" id="nama" name="nama" placeholder="Masukkan nama lengkap" required
                  class="w-full pl-11 pr-4 py-3 border-2 border-slate-200 rounded-xl text-base transition-all duration-200 bg-white focus:outline-none focus:border-blue-500 focus:ring-4 focus:ring-blue-100">
              </div>
            </div>
            <div class="flex flex-col gap-2">
              <label for="telepon" class="text-sm font-medium text-slate-800">No. Telepon</label>
              <div class="relative flex items-center">
                <span class="absolute left-3 text-slate-500 flex items-center">
                  <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <path d="M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z"></path>
                  </svg>
                </span>
                <input type="tel" id="telepon" name="telepon" placeholder="08xxxxxxxxxx" required
                  class="w-full pl-11 pr-4 py-3 border-2 border-slate-200 rounded-xl text-base transition-all duration-200 bg-white focus:outline-none focus:border-blue-500 focus:ring-4 focus:ring-blue-100">
              </div>
            </div>
          </div>
        </div>

        <!-- Lokasi -->
        <div class="mb-8 pb-8 border-b border-slate-200">
          <h2 class="flex items-center gap-3 text-lg font-semibold text-slate-800 mb-5">
            <span class="w-9 h-9 rounded-lg flex items-center justify-center text-white" style="background-color: #0099d5;">
              <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <path d="M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z"></path>
                <circle cx="12" cy="10" r="3"></circle>
              </svg>  
            </span>
            Lokasi
          </h2>
          
          <!-- Map Container -->
          <div class="relative h-64 rounded-xl overflow-hidden border-2 border-slate-200">
            <div id="map" class="w-full h-full z-10"></div>
            <div class="absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-full pointer-events-none z-20">
              <svg width="32" height="32" viewBox="0 0 24 24" fill="#2563eb" stroke="#1e40af" stroke-width="2">
                <path d="M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z"></path>
                <circle cx="12" cy="10" r="3" fill="white"></circle>
              </svg>
            </div>
            <button type="button" id="getLocationBtn" class="absolute bottom-4 right-4 flex items-center gap-2 px-4 py-2.5 bg-white text-blue-600 text-sm font-medium rounded-lg shadow-md cursor-pointer z-20 transition-all duration-200 hover:bg-blue-600 hover:text-white">
              <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <circle cx="12" cy="12" r="10"></circle>
                <circle cx="12" cy="12" r="3"></circle>
                <path d="M12 2v2m0 16v2M2 12h2m16 0h2"></path>
              </svg>
              Lokasi Saat Ini
            </button>
          </div>
          <p class="text-xs text-slate-500 mt-2">Geser peta untuk menentukan lokasi atau gunakan tombol "Lokasi Saat Ini"</p>
          <input type="hidden" id="latitude" name="latitude">
          <input type="hidden" id="longitude" name="longitude">

          <!-- Alamat Detail -->
          <div class="flex flex-col gap-2 mt-4">
            <label for="alamat" class="text-sm font-medium text-slate-800">Detail Alamat Lengkap</label>
            <textarea id="alamat" name="alamat" placeholder="Nama jalan, nomor rumah, patokan, dll" required
              class="w-full px-4 py-3 border-2 border-slate-200 rounded-xl text-base transition-all duration-200 bg-white focus:outline-none focus:border-blue-500 focus:ring-4 focus:ring-blue-100 min-h-[100px] resize-vertical"></textarea>
          </div>
          <div class="grid grid-cols-1 gap-4 mt-4 md:grid-cols-3">
            <!-- Kelurahan -->
            <div class="flex flex-col gap-2">
              <label for="kelurahan" class="text-sm font-medium text-slate-800">Kelurahan</label>
              <div class="relative flex items-center">
                <span class="absolute left-3 text-slate-500 flex items-center">
                  <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <path d="M3 21V5a2 2 0 0 1 2-2h4v18"></path>
                    <path d="M9 21V9h6v12"></path>
                    <path d="M15 21V3h4a2 2 0 0 1 2 2v16"></path>
                    <path d="M3 21h18"></path>
                  </svg>
                </span>
                <input type="text" id="kelurahan" name="kelurahan" placeholder="Kelurahan" required
                  class="w-full pl-11 pr-4 py-3 border-2 border-slate-200 rounded-xl text-base transition-all duration-200 bg-white focus:outline-none focus:border-blue-500 focus:ring-4 focus:ring-blue-100">
              </div>
            </div>

            <!-- Kecamatan -->
            <div class="flex flex-col gap-2">
              <label for="kecamatan" class="text-sm font-medium text-slate-800">Kecamatan</label>
              <div class="relative flex items-center">
                <span class="absolute left-3 text-slate-500 flex items-center">
                  <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <path d="M3 21V5a2 2 0 0 1 2-2h4v18"></path>
                    <path d="M9 21V9h6v12"></path>
                    <path d="M15 21V3h4a2 2 0 0 1 2 2v16"></path>
                    <path d="M3 21h18"></path>
                  </svg>
                </span>
                <input type="text" id="kecamatan" name="kecamatan" placeholder="Kecamatan" required
                  class="w-full pl-11 pr-4 py-3 border-2 border-slate-200 rounded-xl text-base transition-all duration-200 bg-white focus:outline-none focus:border-blue-500 focus:ring-4 focus:ring-blue-100">
              </div>
            </div>

            <!-- Kota -->
            <div class="flex flex-col gap-2">
              <label for="kota" class="text-sm font-medium text-slate-800">Kota</label>
              <div class="relative flex items-center">
                <span class="absolute left-3 text-slate-500 flex items-center">
                  <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <path d="M3 21V5a2 2 0 0 1 2-2h4v18"></path>
                    <path d="M9 21V9h6v12"></path>
                    <path d="M15 21V3h4a2 2 0 0 1 2 2v16"></path>
                    <path d="M3 21h18"></path>
                  </svg>
                </span>
                <input type="text" id="kota" name="kota" placeholder="Kota" required
                  class="w-full pl-11 pr-4 py-3 border-2 border-slate-200 rounded-xl text-base transition-all duration-200 bg-white focus:outline-none focus:border-blue-500 focus:ring-4 focus:ring-blue-100">
              </div>
            </div>
          </div>
        </div>

        <!-- Jadwal Kunjungan -->
        <div class="mb-8 pb-8 border-b border-slate-200">
          <h2 class="flex items-center gap-3 text-lg font-semibold text-slate-800 mb-5">
            <span class="w-9 h-9 rounded-lg flex items-center justify-center text-white" style="background-color: #0099d5;">
              <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <rect x="3" y="4" width="18" height="18" rx="2" ry="2"></rect>
                <line x1="16" y1="2" x2="16" y2="6"></line>
                <line x1="8" y1="2" x2="8" y2="6"></line>
                <line x1="3" y1="10" x2="21" y2="10"></line>
              </svg>
            </span>
            Jadwal Kunjungan
          </h2>
          <div class="grid grid-cols-1 gap-4 md:grid-cols-2">
            <div class="flex flex-col gap-2">
              <label for="tanggal" class="text-sm font-medium text-slate-800">Tanggal Kunjungan</label>
           
                
                <input type="date" id="tanggal" name="tanggal" required
                  class="w-full pl-4 pr-4 py-3 border-2 border-slate-200 rounded-xl text-base transition-all duration-200 bg-white focus:outline-none focus:border-blue-500 focus:ring-4 focus:ring-blue-100">
            
            </div>
            <div class="flex flex-col gap-2">
              <label for="waktu" class="text-sm font-medium text-slate-800">Waktu Kunjungan</label>
              <div class="relative flex items-center">
                <span class="absolute left-3 text-slate-500 flex items-center">
                  <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <circle cx="12" cy="12" r="10"></circle>
                    <polyline points="12 6 12 12 16 14"></polyline>
                  </svg>
                </span>
                <select id="waktu" name="waktu" required
                  class="w-full pl-11 pr-12 py-3 border-2 border-slate-200 rounded-xl text-base transition-all duration-200 bg-white focus:outline-none focus:border-blue-500 focus:ring-4 focus:ring-blue-100 cursor-pointer appearance-none">
                  <option value="">Pilih waktu</option>
                  <option value="08:00 - 10:00">08:00 - 10:00</option>
                  <option value="10:00 - 12:00">10:00 - 12:00</option>
                  <option value="13:00 - 15:00">13:00 - 15:00</option>
                  <option value="15:00 - 17:00">15:00 - 17:00</option>
                </select>
                <span class="pointer-events-none absolute right-3 text-slate-400">
                  <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <polyline points="6 9 12 15 18 9"></polyline>
                  </svg>
                </span>
              </div>
            </div>
          </div>
        </div>

        <!-- Rincian Layanan -->
        <div class="mb-8 pb-8 border-b border-slate-200">
          <h2 class="flex items-center gap-3 text-lg font-semibold text-slate-800 mb-5">
            <span class="w-9 h-9 rounded-lg flex items-center justify-center text-white" style="background-color: #0099d5;">
              <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"></path>
                <polyline points="14 2 14 8 20 8"></polyline>
                <line x1="16" y1="13" x2="8" y2="13"></line>
                <line x1="16" y1="17" x2="8" y2="17"></line>
                <polyline points="10 9 9 9 8 9"></polyline>
              </svg>
            </span>
            Rincian Layanan
          </h2>
          
          <button type="button" id="openServiceModal" class="w-full flex items-center justify-between px-5 py-4 border-none rounded-xl text-white text-base font-medium cursor-pointer transition-all duration-200 hover:-translate-y-0.5 hover:shadow-xl" style="background-color: #0099d5;">
            <span class="flex items-center gap-3">
              <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <circle cx="12" cy="12" r="10"></circle>
                <line x1="12" y1="8" x2="12" y2="16"></line>
                <line x1="8" y1="12" x2="16" y2="12"></line>
              </svg>
              Pilih Layanan
            </span>
            <span class="bg-white text-blue-600 px-3 py-1 rounded-full text-sm font-semibold" id="serviceCount">0</span>
          </button>

          <!-- Selected Services -->
          <div id="selectedServices" class="mt-4 grid grid-cols-1 gap-3 md:grid-cols-2"></div>

          <!-- Total -->
          <div id="totalContainer" class="hidden mt-4 px-5 py-5 rounded-xl text-white" style="background-color: #0099d5;">
            <div class="flex items-center justify-between mb-2">
              <div class="text-base opacity-90">Subtotal</div>
              <div class="text-lg font-semibold" id="subtotalAmount">Rp 0</div>
            </div>
            <div id="discountRow" class="hidden flex items-center justify-between mb-2 pb-2 border-b border-white/30">
              <div class="text-sm opacity-90">Diskon (<span id="discountLabel"></span>)</div>
              <div class="text-base font-semibold text-green-300" id="discountAmount">- Rp 0</div>
            </div>
            <div class="hidden flex items-center justify-between mb-2">
              <div class="text-sm opacity-90">Estimasi Waktu Pengerjaan</div>
              <div class="text-base font-semibold" id="estimatedTime">0 menit</div>
            </div>
            <div class="flex items-center justify-between pt-2">
              <div class="text-base font-semibold">Total Estimasi Biaya</div>
              <div class="text-2xl font-bold" id="totalAmount">Rp 0</div>
            </div>
          </div>
        </div>

        <!-- Voucher -->
        <div class="mb-8">
          <h2 class="flex items-center gap-3 text-lg font-semibold text-slate-800 mb-5">
            <span class="w-9 h-9 rounded-lg flex items-center justify-center text-white" style="background-color: #0099d5;">
              <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <path d="M4 9h16M4 15h16M9 4v16m6-16v16"></path>
              </svg>
            </span>
            Kode Voucher
          </h2>
          <div class="flex flex-col gap-2">
            <div class="relative flex items-center">
              <span class="absolute left-3 text-slate-500 flex items-center z-10">
                <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                  <path d="M4 9h16M4 15h16M9 4v16m6-16v16"></path>
                </svg>
              </span>
              <input type="text" id="voucher" name="voucher" placeholder="Masukkan kode voucher (jika ada)"
                class="w-full pl-11 pr-24 py-3 border-2 border-slate-200 rounded-xl text-base transition-all duration-200 bg-white focus:outline-none focus:border-blue-500 focus:ring-4 focus:ring-blue-100">
              <button type="button" id="checkVoucherBtn" class="absolute right-2 px-4 py-1.5 text-white text-sm font-medium rounded-lg transition-all duration-200 hover:shadow-md focus:outline-none focus:ring-2 focus:ring-offset-2" style="background-color: #0099d5;" onmouseover="this.style.opacity='0.9'" onmouseout="this.style.opacity='1'">
                Cek
              </button>
            </div>
            <div id="voucherStatus" class="text-sm"></div>
            <p class="text-xs text-slate-500">Masukkan kode voucher untuk mendapatkan diskon</p>
          </div>
        </div>

        <!-- Submit Button -->
        <button type="submit" class="w-full flex items-center justify-center gap-3 px-8 py-4 border-none rounded-xl text-white text-lg font-semibold cursor-pointer transition-all duration-200 hover:-translate-y-0.5 hover:shadow-xl" style="background-color: #0099d5;">
          <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <path d="M22 11.08V12a10 10 0 1 1-5.93-9.14"></path>
            <polyline points="22 4 12 14.01 9 11.01"></polyline>
          </svg>
          Lanjut ke Checkout
        </button>
      </form>
    </div>
  </main>

  <!-- Service Modal -->
  <div id="serviceModal" class="hidden fixed inset-0 w-full h-full bg-black/50 z-50 items-center justify-center p-4">
    <div class="w-full max-w-4xl max-h-[90vh] bg-white rounded-2xl flex flex-col overflow-hidden">
      <div class="flex items-center justify-between px-6 py-5 border-b border-slate-200">
        <h2 class="text-xl font-semibold">Pilih Layanan</h2>
        <button type="button" id="closeModal" class="bg-none border-none text-slate-500 cursor-pointer p-1 rounded transition-all duration-200 hover:text-slate-800 hover:bg-slate-100">
          <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <line x1="18" y1="6" x2="6" y2="18"></line>
            <line x1="6" y1="6" x2="18" y2="18"></line>
          </svg>
        </button>
      </div>
      
      <div class="flex items-center gap-3 px-6 py-4 border-b border-slate-200 bg-slate-50">
        <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
          <circle cx="11" cy="11" r="8"></circle>
          <line x1="21" y1="21" x2="16.65" y2="16.65"></line>
        </svg>
        <input type="text" id="serviceSearch" placeholder="Cari layanan..." class="flex-1 border-none bg-transparent p-2 text-base focus:outline-none focus:ring-0">
      </div>

      <div class="flex-1 overflow-y-auto px-6 py-4" id="serviceList">
        <!-- Services will be populated by JavaScript -->
      </div>

      <div class="flex items-center justify-between gap-4 px-6 py-5 border-t border-slate-200 bg-slate-50">
        <button type="button" id="clearAllServices" class="flex items-center gap-2 px-4 py-3 bg-white border-2 border-red-500 rounded-lg text-red-500 text-sm font-medium cursor-pointer transition-all duration-200 hover:bg-red-500 hover:text-white">
          <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <polyline points="3 6 5 6 21 6"></polyline>
            <path d="M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"></path>
          </svg>
          Hapus Semua
        </button>
        <button type="button" id="confirmServices" class="flex-1 px-6 py-3 border-none rounded-lg text-white font-semibold cursor-pointer transition-all duration-200 hover:-translate-y-0.5 hover:shadow-lg" style="background-color: #0099d5;">
          Konfirmasi Pilihan
        </button>
      </div>
    </div>
  </div>

  <script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyBJb468I3Puj2e6NZwOAAUFWqCyZ2WtTeg"></script>
  <script src="order.js"></script>
</body>
</html>
